- > 本文所选取的架构
- 问一个简单的问题
- > 你有两段长度相等的数组，你要想办法将一个数组拷贝到另外一个数组里面，怎么做最快？
- 也就是让你完善这样的一个函数
- ```c
  void memcpy(__restrict__ char *dst, __restrict__ const char *src, int len);
  ```
- 等等，这跟你想象的有点不一样，为啥
- ### 最简单的方法
- 当我们讨论如何优化一个操作的性能的时候，最重要的也是确定它的基础线，也就是合格线。
- 只要是学过一点编程的人，应该都能写出来类似的程序。
- ```c
  void memcpy(char *dst, const char *src, int len){
    for(int i = 0; i < len; i++)
      	dst[i] = src[i];
  }
  ```
- 不妨我们使用一个这样的脚本以及程序pipe来测试一下
- ```c
  #include "memcpy.h"
  #include <stdlib.h>
  #include <assert.h>
  
  char src[65535] = {
    #include "src.def"
  };
  
  char dst[65535] = {
    #include "dst.def"
  };
  
  int main(int argc, char *argv[]){
    	assert(argc == 2);
      int total = atoi(argv[0]);
      memcpy(dst, src, total);
      return 0;
  }
  
  ```
- ```python
  import random
  import subprocess
  import time
  def main(total: num):
  	pass
  ```
- ### 理清缓存
- 如果你知道
- ### 理清超标量
- ### Fast-Path? Slow-Path?
- ### 不同的实现
-